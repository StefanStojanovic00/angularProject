<app-navbar></app-navbar>
<div class="cont-div">
  <mat-card class="stepper-card-cont mat-elevation-z4">
    <mat-stepper linear="false" #stepper>
      <mat-step [stepControl]="categoryControl">
        <form class="form-div">
          <ng-template matStepLabel>Odaberite kategoriju</ng-template>
          <h1>Kategorija</h1>
          <h3>Odaberite kategoriju koja odgovara vašem oružju.</h3>
          <mat-form-field appearance="fill">
            <mat-label>Kategorija</mat-label>
            <mat-select formControl="categoryControl" required>
              <mat-option
                *ngFor="let category of categories"
                [value]="category.id"
              >
                {{ category.name }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="categoryControl.hasError('required')"
              >Odaberite jednu od kategorija iz padajuće liste.</mat-error
            >
          </mat-form-field>
          <div style="margin-top: 20px">
            <button mat-raised-button color="primary" matStepperNext>
              Dalje
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step [stepControl]="dataFormGroup" label="Popunite podatke o oružju">
        <form formGroup="dataFormGroup" class="form-div">
          <h1>Sadržaj oglasa</h1>
          <h3>Podaci koji će biti prikazani na oglasu.</h3>
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Naslov oglasa</mat-label>
              <input
                matInput
                placeholder="Naslov"
                formControlName="titleControl"
                required
              />
            </mat-form-field>
            <mat-form-field appearance="fill" style="margin-left: 20px">
              <mat-label>Cena</mat-label>
              <input
                matInput
                placeholder="Naslov"
                formControlName="titleControl"
                required
              />
            </mat-form-field>
          </div>
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Brand</mat-label>
              <input
                matInput
                placeholder="Naslov"
                formControlName="titleControl"
                required
              />
            </mat-form-field>
          </div>
          <mat-form-field appearance="fill" style="width: 425px">
            <mat-label>Opis oglasa</mat-label>
            <textarea
              matInput
              placeholder="Opis oglasa"
              class="txt-area"
              rows="6"
            ></textarea>
          </mat-form-field>
          <div>
            <button mat-raised-button color="primary" matStepperNext>
              Nazad
            </button>
            <button
              mat-raised-button
              color="primary"
              matStepperNext
              style="margin-left: 20px"
            >
              Dalje
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step [stepControl]="imagesFormContorl" label="Dodajte fotografije">
        <form class="form-div">
          <h1>Fotografije rasvete</h1>
          <h3>
            Dodajte fotografije rasvete koje oglašavate, zatim ih poređajte po
            prioritetu. Prva fotografija u redu biće inicijalno prikazana.
          </h3>
          <h5>Maksimalan broj fotografija po oglasu je 10.</h5>
          <div
            cdkDropList
            cdkDropListOrientation="horizontal"
            (cdkDropListDropped)="drop($event)"
          >
            <img
              cdkDrag
              *ngFor="let preview of previews"
              [src]="preview"
              class="img-img"
            />
          </div>
          <button
            mat-stroked-button
            color="primary"
            type="button"
            (click)="fileInput.click()"
          >
            <span>Dodaj Fotografije</span>
            <input
              #fileInput
              type="file"
              accept="image/*"
              multiple
              required
              (change)="handleSelectedFiles($event)"
              style="display: none"
            />
          </button>
          <div style="margin-top: 20px">
            <button mat-raised-button color="primary" matStepperNext>
              Nazad
            </button>
            <button
              mat-raised-button
              color="primary"
              matStepperNext
              style="margin-left: 20px"
            >
              Dalje
            </button>
          </div>
        </form>
      </mat-step>
      <mat-step [stepControl]="imagesFormContorl" label="Pregled oglasa">
        <form class="form-div">
          <p>Pregled oglasa</p>
          <div style="margin-top: 20px">
            <button mat-raised-button color="primary" matStepperNext>
              Nazad
            </button>
            <button
              mat-raised-button
              color="primary"
              matStepperNext
              style="margin-left: 20px"
            >
              Dalje
            </button>
          </div>
        </form>
      </mat-step>
    </mat-stepper>
  </mat-card>
</div>
